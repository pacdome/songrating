<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚òÖ‚òÜ‚òÖ DOME'S CYBER MUSIC PORTAL ‚òÖ‚òÜ‚òÖ - The Hottest Music Site on the Web!</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(45deg, #ff00ff, #00ffff, #ffff00, #ff0080);
            background-size: 400% 400%;
            animation: gradientShift 8s ease infinite;
            font-family: Arial, sans-serif;
            font-size: 12px;
            background-attachment: fixed;
            color: #000000;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .star-field {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 2s infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.5); }
        }
        
        .container {
            position: relative;
            z-index: 2;
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border: 5px ridge #ff00ff;
            box-shadow: 0 0 20px #ff00ff, inset 0 0 20px rgba(255, 0, 255, 0.3);
        }
        
        .header {
            background: linear-gradient(to right, #ff0080, #8000ff, #0080ff, #00ff80);
            text-align: center;
            padding: 10px;
            border-bottom: 5px groove #ff00ff;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: "‚ú®üéµ‚ú®üéµ‚ú®üéµ‚ú®üéµ‚ú®üéµ‚ú®üéµ‚ú®üéµ‚ú®üéµ‚ú®üéµ‚ú®üéµ‚ú®";
            position: absolute;
            top: 0;
            left: -100%;
            width: 200%;
            animation: scroll-stars 10s linear infinite;
            color: yellow;
            font-size: 14px;
        }
        
        @keyframes scroll-stars {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        .main-title {
            font-size: 24px;
            font-weight: bold;
            color: #ffffff;
            text-shadow: 2px 2px 4px #000000, 0 0 10px #ffff00;
            margin: 10px 0;
            animation: rainbow 3s linear infinite;
        }
        
        @keyframes rainbow {
            0% { color: #ff0000; }
            16% { color: #ff8000; }
            33% { color: #ffff00; }
            50% { color: #00ff00; }
            66% { color: #0080ff; }
            83% { color: #8000ff; }
            100% { color: #ff0000; }
        }
        
        .subtitle {
            color: #ffff00;
            font-size: 14px;
            font-weight: bold;
            text-shadow: 1px 1px 2px #000000;
            margin-bottom: 5px;
        }
        
        .browser-notice {
            background: #ffff00;
            color: #000000;
            padding: 5px;
            border: 2px dashed #ff0000;
            margin: 10px;
            text-align: center;
            font-weight: bold;
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.7; }
        }
        
        .navigation {
            background: linear-gradient(to bottom, #ff8000, #ffff00);
            border-bottom: 3px solid #ff0000;
            padding: 8px;
            text-align: center;
        }
        
        .nav-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .nav-table td {
            border: 2px outset #c0c0c0;
            background: linear-gradient(to bottom, #e0e0e0, #c0c0c0);
            padding: 5px;
            text-align: center;
            width: 20%;
        }
        
        .nav-button {
            display: block;
            color: #000080;
            text-decoration: none;
            font-weight: bold;
            font-size: 11px;
            padding: 3px;
        }
        
        .nav-button:hover {
            background: #ffff80;
            color: #ff0000;
        }
        
        .new-badge {
            background: #ff0000;
            color: #ffffff;
            font-size: 8px;
            padding: 1px 3px;
            border-radius: 3px;
            font-weight: bold;
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        .main-content {
            display: table;
            width: 100%;
            border-collapse: collapse;
        }
        
        .sidebar {
            display: table-cell;
            width: 200px;
            vertical-align: top;
            background: linear-gradient(to bottom, #ff80ff, #80ff80);
            border-right: 3px ridge #ff00ff;
            padding: 10px;
        }
        
        .content-area {
            display: table-cell;
            vertical-align: top;
            padding: 15px;
            background: #ffffff;
        }
        
        .sidebar-section {
            margin-bottom: 15px;
            border: 2px groove #8000ff;
            background: rgba(255, 255, 255, 0.8);
        }
        
        .sidebar-header {
            background: linear-gradient(to right, #ff0080, #8000ff);
            color: #ffffff;
            font-weight: bold;
            padding: 5px;
            text-align: center;
            font-size: 11px;
        }
        
        .sidebar-content {
            padding: 8px;
            font-size: 10px;
        }
        
        .sidebar-content a {
            color: #0000ff;
            text-decoration: underline;
            display: block;
            margin: 2px 0;
        }
        
        .sidebar-content a:hover {
            background: #ffff00;
            color: #ff0000;
        }
        
        .controls-panel {
            background: linear-gradient(to bottom, #ffff80, #ff8080);
            border: 3px ridge #ff8000;
            padding: 10px;
            margin-bottom: 15px;
        }
        
        .controls-title {
            font-size: 14px;
            font-weight: bold;
            color: #800000;
            text-align: center;
            margin-bottom: 10px;
            text-shadow: 1px 1px 2px #ffffff;
        }
        
        .control-row {
            display: table;
            width: 100%;
            margin-bottom: 8px;
        }
        
        .control-label {
            display: table-cell;
            width: 80px;
            font-weight: bold;
            color: #000080;
            vertical-align: middle;
            padding-right: 5px;
        }
        
        .control-input {
            display: table-cell;
            vertical-align: middle;
        }
        
        .control-input input,
        .control-input select {
            border: 2px inset #c0c0c0;
            padding: 2px;
            font-family: Arial, sans-serif;
            font-size: 11px;
            width: 100%;
        }
        
        .action-buttons {
            text-align: center;
            margin-top: 10px;
        }
        
        .retro-button {
            background: linear-gradient(to bottom, #ff8080, #ff0000);
            border: 2px outset #ff4040;
            color: #ffffff;
            font-weight: bold;
            padding: 5px 10px;
            margin: 2px;
            cursor: pointer;
            font-size: 10px;
        }
        
        .retro-button:hover {
            background: linear-gradient(to bottom, #ff4040, #800000);
        }
        
        .retro-button:active {
            border: 2px inset #ff4040;
        }
        
        .stats-display {
            background: #000000;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            padding: 8px;
            border: 2px solid #00ff00;
            margin-bottom: 15px;
            font-size: 11px;
        }
        
        .stats-display .blink {
            animation: blink 1s infinite;
        }
        
        .album-display {
            border: 2px solid #0000ff;
            background: #f0f8ff;
            margin-bottom: 10px;
        }
        
        .album-header {
            background: linear-gradient(to right, #0080ff, #8000ff);
            color: #ffffff;
            padding: 8px;
            cursor: pointer;
            border-bottom: 1px solid #0000ff;
        }
        
        .album-header:hover {
            background: linear-gradient(to right, #4080ff, #a040ff);
        }
        
        .album-title {
            font-weight: bold;
            font-size: 13px;
            margin-bottom: 2px;
        }
        
        .album-info {
            font-size: 11px;
            opacity: 0.9;
        }
        
        .album-rating {
            float: right;
            background: #ffff00;
            color: #000000;
            padding: 3px 6px;
            border: 1px solid #ff8000;
            font-weight: bold;
            border-radius: 3px;
        }
        
        .album-details {
            display: none;
            padding: 10px;
            background: #ffffff;
        }
        
        .album-details.show {
            display: block;
        }
        
        .tracklist {
            border: 1px solid #c0c0c0;
            background: #f8f8f8;
            margin-bottom: 10px;
        }
        
        .tracklist-header {
            background: linear-gradient(to right, #c0c0c0, #e0e0e0);
            padding: 5px;
            font-weight: bold;
            border-bottom: 1px solid #808080;
        }
        
        .track-item {
            padding: 3px 8px;
            border-bottom: 1px dotted #c0c0c0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 11px;
        }
        
        .track-item:hover {
            background: #e8f4fd;
        }
        
        .track-item.favorite {
            background: #ffff80;
            font-weight: bold;
        }
        
        .track-item.interlude {
            color: #808080;
            font-style: italic;
        }
        
        .track-rating {
            font-weight: bold;
            padding: 1px 4px;
            border-radius: 2px;
            color: white;
            font-size: 10px;
        }
        
        .rating-10 { background: #ff0080; }
        .rating-9 { background: #ff4000; }
        .rating-8 { background: #ff8000; }
        .rating-7 { background: #ffff00; color: #000000; }
        .rating-6 { background: #80ff00; color: #000000; }
        .rating-5 { background: #00ff80; color: #000000; }
        .rating-4 { background: #00ffff; color: #000000; }
        .rating-3 { background: #0080ff; }
        .rating-2 { background: #8000ff; }
        .rating-1 { background: #ff00ff; }
        
        .comment-box {
            background: #ffffcc;
            border: 2px dashed #ff8000;
            padding: 8px;
            margin-top: 8px;
            font-style: italic;
            font-size: 11px;
        }
        
        .pagination {
            text-align: center;
            margin: 20px 0;
        }
        
        .page-button {
            background: linear-gradient(to bottom, #80ff80, #00ff00);
            border: 2px outset #40ff40;
            color: #000000;
            font-weight: bold;
            padding: 5px 8px;
            margin: 1px;
            cursor: pointer;
            font-size: 11px;
        }
        
        .page-button:hover {
            background: linear-gradient(to bottom, #40ff40, #008000);
        }
        
        .page-button.active {
            background: linear-gradient(to bottom, #ff8080, #ff0000);
            color: #ffffff;
        }
        
        .footer {
            background: linear-gradient(to right, #800080, #008080);
            color: #ffffff;
            text-align: center;
            padding: 15px;
            border-top: 5px ridge #ff00ff;
        }
        
        .footer-links {
            margin-bottom: 10px;
        }
        
        .footer-links a {
            color: #ffff00;
            text-decoration: none;
            margin: 0 5px;
            font-weight: bold;
        }
        
        .footer-links a:hover {
            text-decoration: underline;
            color: #ffffff;
        }
        
        .copyright {
            font-size: 10px;
            margin-top: 10px;
        }
        
        .under-construction {
            position: fixed;
            bottom: 10px;
            right: 10px;
            background: #ffff00;
            color: #000000;
            padding: 5px 10px;
            border: 2px solid #ff0000;
            font-weight: bold;
            z-index: 1000;
            animation: construction-blink 1.5s infinite;
        }
        
        @keyframes construction-blink {
            0%, 50% { background: #ffff00; }
            51%, 100% { background: #ff0000; color: #ffffff; }
        }
        
        .visitor-counter {
            position: fixed;
            top: 10px;
            right: 10px;
            background: #000080;
            color: #ffffff;
            padding: 5px;
            border: 1px solid #ffffff;
            font-family: 'Courier New', monospace;
            font-size: 10px;
            z-index: 1000;
        }
        
        @media (max-width: 768px) {
            .main-content {
                display: block;
            }
            
            .sidebar {
                display: block;
                width: 100%;
                border-right: none;
                border-bottom: 3px ridge #ff00ff;
            }
            
            .content-area {
                display: block;
            }
            
            .nav-table td {
                width: auto;
                font-size: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Animated star field -->
    <div class="star-field" id="starField"></div>
    
    <div class="container">
        <div class="header">
            <div class="main-title">‚òÖ‚òÜ‚òÖ DOME'S CYBER MUSIC PORTAL ‚òÖ‚òÜ‚òÖ</div>
            <div class="subtitle">Welcome to the HOTTEST Music Database on the WORLD WIDE WEB!</div>
        </div>
        
        <div class="browser-notice">
            ‚ö†Ô∏è BEST VIEWED WITH NETSCAPE NAVIGATOR 4.0+ or INTERNET EXPLORER 5.0+ AT 800x600 RESOLUTION! ‚ö†Ô∏è
        </div>
        
        <div class="navigation">
            <table class="nav-table">
                <tr>
                    <td><a href="#" class="nav-button">üè† HOME</a></td>
                    <td><a href="#" class="nav-button">üéµ ALBUMS <span class="new-badge">NEW!</span></a></td>
                    <td><a href="#" class="nav-button">‚≠ê TOP RATED</a></td>
                    <td><a href="#" class="nav-button">üî• HOT PICKS</a></td>
                    <td><a href="#" class="nav-button">üìß CONTACT</a></td>
                </tr>
            </table>
        </div>
        
        <div class="main-content">
            <div class="sidebar">
                <div class="sidebar-section">
                    <div class="sidebar-header">üåü QUICK STATS</div>
                    <div class="sidebar-content">
                        <strong>Total Albums:</strong> <span id="sidebarTotal">0</span><br>
                        <strong>Avg Rating:</strong> <span id="sidebarAvg">0.0</span><br>
                        <strong>Last Update:</strong> <span id="sidebarDate">Today</span>
                    </div>
                </div>
                
                <div class="sidebar-section">
                    <div class="sidebar-header">üîó COOL LINKS</div>
                    <div class="sidebar-content">
                        <a href="#">üìª Web Radio</a>
                        <a href="#">üíø CD Reviews</a>
                        <a href="#">üé∏ Guitar Tabs</a>
                        <a href="#">üé§ Lyrics Database</a>
                        <a href="#">üèÜ Music Awards</a>
                    </div>
                </div>
                
                <div class="sidebar-section">
                    <div class="sidebar-header">üéØ FEATURED</div>
                    <div class="sidebar-content">
                        <strong>Album of the Day:</strong><br>
                        <span id="featuredAlbum">Loading...</span>
                    </div>
                </div>
                
                <div class="sidebar-section">
                    <div class="sidebar-header">üìà WEB RINGS</div>
                    <div class="sidebar-content">
                        <a href="#">üîó Music Lovers Ring</a>
                        <a href="#">üîó 90s Nostalgia Ring</a>
                        <a href="#">üîó Album Collectors</a>
                    </div>
                </div>
            </div>
            
            <div class="content-area">
                <div class="controls-panel">
                    <div class="controls-title">üéõÔ∏è CONTROL PANEL üéõÔ∏è</div>
                    
                    <div class="control-row">
                        <div class="control-label">üîç SEARCH:</div>
                        <div class="control-input">
                            <input type="text" id="searchInput" placeholder="Enter artist or album name..." onkeyup="searchAlbums()">
                        </div>
                    </div>
                    
                    <div class="control-row">
                        <div class="control-label">üìä SORT BY:</div>
                        <div class="control-input">
                            <select id="sortSelect" onchange="sortAlbums()">
                                <option value="rating-desc">‚≠ê Rating (High‚ÜíLow)</option>
                                <option value="rating-asc">‚≠ê Rating (Low‚ÜíHigh)</option>
                                <option value="artist-asc">üé§ Artist (A‚ÜíZ)</option>
                                <option value="artist-desc">üé§ Artist (Z‚ÜíA)</option>
                                <option value="album-asc">üíø Album (A‚ÜíZ)</option>
                                <option value="album-desc">üíø Album (Z‚ÜíA)</option>
                                <option value="year-asc">üìÖ Year (Old‚ÜíNew)</option>
                                <option value="year-desc">üìÖ Year (New‚ÜíOld)</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="retro-button" onclick="toggleAllAlbums()">üìÇ EXPAND ALL</button>
                        <button class="retro-button" onclick="resetFilters()">üîÑ RESET</button>
                        <button class="retro-button" onclick="randomAlbum()">üé≤ SURPRISE ME!</button>
                    </div>
                </div>
                
                <div class="stats-display">
                    > SYSTEM STATUS: <span class="blink">ONLINE</span><br>
                    > ALBUMS LOADED: <span id="statsCount">0</span><br>
                    > CURRENT FILTER: <span id="statsFilter">ALL ALBUMS</span><br>
                    > CONNECTION: <span class="blink">STABLE</span>
                </div>
                
                <div id="albumsList"></div>
                
                <div class="pagination" id="pagination"></div>
            </div>
        </div>
        
        <div class="footer">
            <div class="footer-links">
                <a href="#">üè† Home</a> |
                <a href="#">üìß Guestbook</a> |
                <a href="#">üîó Links</a> |
                <a href="#">‚ÑπÔ∏è About</a> |
                <a href="#">üì± Contact</a>
            </div>
            <div class="copyright">
                ¬© 1999 DOME'S CYBER MUSIC PORTAL - All Rights Reserved<br>
                Optimized for 56k Modem ‚Ä¢ Enhanced for Multimedia PC
            </div>
        </div>
    </div>
    
    <div class="under-construction">
        üöß SITE UNDER CONSTRUCTION üöß
    </div>
    
    <div class="visitor-counter">
        VISITORS: <span id="visitorCount">001337</span>
    </div>

    <script>
        let albums = [];
        let currentAlbums = [];
        let currentPage = 1;
        const albumsPerPage = 5;
        let allExpanded = false;

        // Create animated star field
        function createStarField() {
            const starField = document.getElementById('starField');
            for (let i = 0; i < 50; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.width = star.style.height = (Math.random() * 3 + 1) + 'px';
                star.style.animationDelay = Math.random() * 2 + 's';
                starField.appendChild(star);
            }
        }

        // Load albums from JSON file
        async function loadAlbums() {
            try {
                const response = await fetch('albums.json');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                
                // Remove duplicates and clean data
                const uniqueAlbums = [];
                const seen = new Set();
                
                data.forEach(album => {
                    const key = `${album.artist}-${album.album}-${album.year}`;
                    if (!seen.has(key)) {
                        seen.add(key);
                        uniqueAlbums.push(album);
                    }
                });
                
                albums = uniqueAlbums;
                currentAlbums = [...albums];
                displayAlbums();
                updateStats();
                updatePagination();
                updateSidebar();
                
            } catch (error) {
                console.error('Error loading albums:', error);
                document.getElementById('albumsList').innerHTML = `
                    <div style="background: #ff8080; border: 2px solid #ff0000; padding: 20px; text-align: center; font-weight: bold;">
                        ‚ö†Ô∏è ERROR LOADING ALBUMS.JSON ‚ö†Ô∏è<br>
                        Please make sure the file is in the same directory!
                    </div>
                `;
            }
        }

        function calculateAverageRating(songs) {
            const nonInterludeSongs = songs.filter(song => !song.interlude);
            if (nonInterludeSongs.length === 0) return 0;
            const sum = nonInterludeSongs.reduce((acc, song) => acc + song.rating, 0);
            return (sum / nonInterludeSongs.length).toFixed(1);
        }

        function getRatingClass(rating) {
            const ratingNum = Math.floor(parseFloat(rating));
            return `rating-${ratingNum}`;
        }

        function displayAlbums() {
            const albumsList = document.getElementById('albumsList');
            albumsList.innerHTML = '';

            const startIndex = (currentPage - 1) * albumsPerPage;
            const endIndex = startIndex + albumsPerPage;
            const pageAlbums = currentAlbums.slice(startIndex, endIndex);

            pageAlbums.forEach((album, index) => {
                const avgRating = calculateAverageRating(album.songs);
                const globalIndex = startIndex + index;
                
                const albumDiv = document.createElement('div');
                albumDiv.className = 'album-display';
                
                const songsHtml = album.songs.map(song => `
                    <div class="track-item ${song.favorite ? 'favorite' : ''} ${song.interlude ? 'interlude' : ''}">
                        <span>
                            ${song.name} 
                            ${song.favorite ? '‚òÖ' : ''} 
                            ${song.interlude ? '(Interlude)' : ''}
                        </span>
                        <span class="track-rating ${getRatingClass(song.rating)}">${song.rating}</span>
                    </div>
                `).join('');
                
                albumDiv.innerHTML = `
                    <div class="album-header" onclick="toggleAlbumDetails(${globalIndex})">
                        <div class="album-rating">${avgRating}/10</div>
                        <div class="album-title">${album.artist} - ${album.album}</div>
                        <div class="album-info">
                            üìÖ ${album.year} ‚Ä¢ üéµ ${album.songs.length} tracks ‚Ä¢ ‚≠ê ${avgRating} avg
                        </div>
                    </div>
                    <div class="album-details" id="details-${globalIndex}">
                        <div class="tracklist">
                            <div class="tracklist-header">üéµ TRACK LISTING</div>
                            ${songsHtml}
                        </div>
                        ${album.comment ? `
                            <div class="comment-box">
                                üí≠ <strong>DOME'S COMMENT:</strong> ${album.comment}
                            </div>
                        ` : ''}
                    </div>
                `;
                
                albumsList.appendChild(albumDiv);
            });
        }

        function toggleAlbumDetails(index) {
            const details = document.getElementById(`details-${index}`);
            if (details.classList.contains('show')) {
                details.classList.remove('show');
            } else {
                // Close all other details first
                document.querySelectorAll('.album-details.show').forEach(detail => {
                    detail.classList.remove('show');
                });
                details.classList.add('show');
            }
        }

        function toggleAllAlbums() {
            allExpanded = !allExpanded;
            const details = document.querySelectorAll('.album-details');
            
            details.forEach(detail => {
                if (allExpanded) {
                    detail.classList.add('show');
                } else {
                    detail.classList.remove('show');
                }
            });
            
            const button = event.target;
            button.textContent = allExpanded ? 'üìÅ COLLAPSE ALL' : 'üìÇ EXPAND ALL';
        }

        function searchAlbums() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            currentAlbums = albums.filter(album => 
                album.album.toLowerCase().includes(searchTerm) ||
                album.artist.toLowerCase().includes(searchTerm)
            );
            currentPage = 1;
            displayAlbums();
            updateStats();
            updatePagination();
            updateSidebar();
        }

        function sortAlbums() {
            const sortValue = document.getElementById('sortSelect').value;
            const [criteria, order] = sortValue.split('-');
            
            currentAlbums.sort((a, b) => {
                let comparison = 0;
                
                switch(criteria) {
                    case 'artist':
                        comparison = a.artist.localeCompare(b.artist);
                        break;
                    case 'album':
                        comparison = a.album.localeCompare(b.album);
                        break;
                    case 'year':
                        comparison = a.year - b.year;
                        break;
                    case 'rating':
                        const avgA = parseFloat(calculateAverageRating(a.songs));
                        const avgB = parseFloat(calculateAverageRating(b.songs));
                        comparison = avgA - avgB;
                        break;
                }
                
                return order === 'desc' ? -comparison : comparison;
            });
            
            currentPage = 1;
            displayAlbums();
            updatePagination();
            updateStats();
        }

        function resetFilters() {
            document.getElementById('searchInput').value = '';
            document.getElementById('sortSelect').value = 'rating-desc';
            currentAlbums = [...albums];
            currentPage = 1;
            displayAlbums();
            updateStats();
            updatePagination();
            updateSidebar();
        }

        function randomAlbum() {
            if (currentAlbums.length === 0) return;
            
            const randomIndex = Math.floor(Math.random() * currentAlbums.length);
            const randomPage = Math.ceil((randomIndex + 1) / albumsPerPage);
            currentPage = randomPage;
            
            displayAlbums();
            updatePagination();
            
            // Auto-expand the random album
            setTimeout(() => {
                const targetIndex = randomIndex % albumsPerPage;
                const startIndex = (currentPage - 1) * albumsPerPage;
                toggleAlbumDetails(startIndex + targetIndex);
            }, 100);
        }

        function updatePagination() {
            const totalPages = Math.ceil(currentAlbums.length / albumsPerPage);
            const pagination = document.getElementById('pagination');
            
            if (totalPages <= 1) {
                pagination.innerHTML = '';
                return;
            }
            
            let html = '';
            html += `<button class="page-button" onclick="changePage(${currentPage - 1})" ${currentPage <= 1 ? 'disabled' : ''}>&lt;&lt; PREV</button>`;
            
            for (let i = 1; i <= totalPages; i++) {
                if (i === 1 || i === totalPages || (i >= currentPage - 2 && i <= currentPage + 2)) {
                    html += `<button class="page-button ${i === currentPage ? 'active' : ''}" onclick="changePage(${i})">${i}</button>`;
                } else if (i === currentPage - 3 || i === currentPage + 3) {
                    html += '<span>...</span>';
                }
            }
            
            html += `<button class="page-button" onclick="changePage(${currentPage + 1})" ${currentPage >= totalPages ? 'disabled' : ''}>NEXT &gt;&gt;</button>`;
            
            pagination.innerHTML = html;
        }

        function changePage(page) {
            const totalPages = Math.ceil(currentAlbums.length / albumsPerPage);
            if (page < 1 || page > totalPages) return;
            
            currentPage = page;
            displayAlbums();
            updatePagination();
            window.scrollTo(0, 0);
        }

        function updateStats() {
            const totalCount = currentAlbums.length;
            const searchTerm = document.getElementById('searchInput').value;
            const sortValue = document.getElementById('sortSelect').value;
            
            document.getElementById('statsCount').textContent = totalCount;
            
            let filterText = 'ALL ALBUMS';
            if (searchTerm) {
                filterText = `SEARCH: "${searchTerm.toUpperCase()}"`;
            } else if (sortValue !== 'rating-desc') {
                const sortLabels = {
                    'rating-asc': 'RATING LOW‚ÜíHIGH',
                    'artist-asc': 'ARTIST A‚ÜíZ',
                    'artist-desc': 'ARTIST Z‚ÜíA',
                    'album-asc': 'ALBUM A‚ÜíZ',
                    'album-desc': 'ALBUM Z‚ÜíA',
                    'year-asc': 'YEAR OLD‚ÜíNEW',
                    'year-desc': 'YEAR NEW‚ÜíOLD'
                };
                filterText = `SORTED BY: ${sortLabels[sortValue] || 'CUSTOM'}`;
            }
            
            document.getElementById('statsFilter').textContent = filterText;
        }

        function updateSidebar() {
            const totalRating = albums.reduce((sum, album) => {
                return sum + parseFloat(calculateAverageRating(album.songs));
            }, 0);
            const avgRating = albums.length > 0 ? (totalRating / albums.length).toFixed(1) : '0.0';
            
            document.getElementById('sidebarTotal').textContent = albums.length;
            document.getElementById('sidebarAvg').textContent = avgRating;
            document.getElementById('sidebarDate').textContent = new Date().toLocaleDateString('de-DE');
            
            // Featured album (random)
            if (albums.length > 0) {
                const randomAlbum = albums[Math.floor(Math.random() * albums.length)];
                document.getElementById('featuredAlbum').innerHTML = `
                    <strong>${randomAlbum.artist}</strong><br>
                    "${randomAlbum.album}" (${randomAlbum.year})
                `;
            }
            
            // Update visitor counter
            const counter = document.getElementById('visitorCount');
            const currentCount = parseInt(counter.textContent);
            counter.textContent = String(currentCount + Math.floor(Math.random() * 5) + 1).padStart(6, '0');
        }

        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', () => {
            createStarField();
            loadAlbums();
            
            // Random visitor counter updates
            setInterval(() => {
                const counter = document.getElementById('visitorCount');
                const currentCount = parseInt(counter.textContent);
                counter.textContent = String(currentCount + Math.floor(Math.random() * 3)).padStart(6, '0');
            }, 8000);
            
            // Random featured album updates
            setInterval(() => {
                if (albums.length > 0) {
                    const randomAlbum = albums[Math.floor(Math.random() * albums.length)];
                    document.getElementById('featuredAlbum').innerHTML = `
                        <strong>${randomAlbum.artist}</strong><br>
                        "${randomAlbum.album}" (${randomAlbum.year})
                    `;
                }
            }, 15000);
        });
    </script>
</body>
</html>
