<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mein Retro Reiseblog</title>
    <style>
        /* Retro 2000er Style */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Verdana, Geneva, sans-serif;
            background: #e8f4f8;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        header {
            background: linear-gradient(to bottom, #6699cc, #4477aa);
            color: white;
            padding: 20px;
            text-align: center;
            border-bottom: 3px solid #336699;
        }

        header h1 {
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            margin-bottom: 5px;
        }

        header p {
            font-size: 1.1em;
            font-style: italic;
        }

        /* Karten-Bereich */
        #map-section {
            padding: 20px;
            background: #f0f8ff;
            border-bottom: 2px solid #ccc;
        }

        #map-section h2 {
            color: #336699;
            margin-bottom: 15px;
            font-size: 1.8em;
        }

        #map-container {
            position: relative;
            width: 100%;
            height: 600px;
            background: white;
            border: 3px solid #336699;
            overflow: hidden;
        }

        #europe-svg {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        #map-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        /* Blog-Bereich */
        #blog-section {
            padding: 20px;
        }

        #filter-bar {
            background: #ffffcc;
            padding: 15px;
            border: 2px solid #ffcc00;
            margin-bottom: 20px;
            border-radius: 5px;
        }

        #filter-bar label {
            font-weight: bold;
            margin-right: 10px;
            color: #333;
        }

        #filter-bar select {
            padding: 5px 10px;
            border: 2px solid #999;
            background: white;
            font-size: 14px;
            margin-right: 20px;
            cursor: pointer;
        }

        .article {
            background: #fff;
            border: 2px solid #ccc;
            padding: 20px;
            margin-bottom: 25px;
            border-radius: 5px;
            box-shadow: 3px 3px 5px rgba(0,0,0,0.1);
        }

        .article h3 {
            color: #336699;
            font-size: 1.8em;
            margin-bottom: 10px;
            border-bottom: 2px solid #6699cc;
            padding-bottom: 5px;
        }

        .article-meta {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 15px;
            font-style: italic;
        }

        .article-images {
            margin: 15px 0;
        }

        .article-images img {
            max-width: 100%;
            height: auto;
            border: 3px solid #ccc;
            margin: 5px;
            box-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .article-text {
            text-align: justify;
            font-size: 1em;
            color: #444;
        }

        .article-text p {
            margin-bottom: 10px;
        }

        footer {
            background: #336699;
            color: white;
            text-align: center;
            padding: 15px;
            margin-top: 30px;
        }

        /* Retro Link-Style */
        a {
            color: #0066cc;
            text-decoration: underline;
        }

        a:visited {
            color: #663399;
        }

        a:hover {
            color: #ff6600;
        }

        .no-articles {
            text-align: center;
            padding: 40px;
            color: #999;
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üåç Mein Retro Reiseblog</h1>
            <p>Entdecke Europa - Eine Stadt nach der anderen</p>
        </header>

        <!-- Europakarte -->
        <section id="map-section">
            <h2>Meine Reisen auf der Karte</h2>
            <div id="map-container">
                <!-- SVG-Karte wird hier eingebunden -->
                <img id="europe-svg" src="europe-map.svg" alt="Europakarte">
                <canvas id="map-overlay"></canvas>
            </div>
        </section>

        <!-- Blog-Artikel -->
        <section id="blog-section">
            <div id="filter-bar">
                <label for="country-filter">Land:</label>
                <select id="country-filter">
                    <option value="all">Alle L√§nder</option>
                </select>

                <label for="year-filter">Jahr:</label>
                <select id="year-filter">
                    <option value="all">Alle Jahre</option>
                </select>
            </div>

            <div id="articles-container">
                <!-- Artikel werden hier dynamisch eingef√ºgt -->
            </div>
        </section>

        <footer>
            <p>&copy; 2025 Mein Retro Reiseblog | Erstellt mit ‚ù§Ô∏è und Nostalgie</p>
        </footer>
    </div>

    <script>
        // ===== KONFIGURATION =====
        // Beispiel-Daten (sp√§ter durch externe JSON-Datei ersetzen)
        const blogData = {
            "articles": [
                {
                    "id": 1,
                    "title": "Ein Wochenende in Paris",
                    "country": "Frankreich",
                    "city": "Paris",
                    "region": "√éle-de-France_FR",
                    "year": 2023,
                    "coordinates": { "lat": 48.8566, "lon": 2.3522 },
                    "images": [
                        "https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=600",
                        "https://images.unsplash.com/photo-1511739001486-6bfe10ce785f?w=600"
                    ],
                    "text": "Paris, die Stadt der Liebe! Mein Wochenendtrip begann am Eiffelturm. Das Wahrzeichen ist noch beeindruckender als auf Fotos. Danach schlenderte ich durch Montmartre, wo K√ºnstler ihre Werke verkauften. Der Sonnenuntergang vom Sacr√©-C≈ìur war atemberaubend. Am n√§chsten Tag besuchte ich den Louvre - drei Stunden, um die Mona Lisa zu sehen! Die Champs-√âlys√©es lud zum Shopping ein. Abends genoss ich Cr√™pes in einem kleinen Caf√©. Ein unvergessliches Erlebnis! Paris ist definitiv eine Reise wert. Die Metro macht es einfach, √ºberall hinzukommen. Ich kann es kaum erwarten, wiederzukommen und noch mehr zu entdecken."
                },
                {
                    "id": 2,
                    "title": "Berlin - Geschichte und Moderne",
                    "country": "Deutschland",
                    "city": "Berlin",
                    "region": "Berlin_DE",
                    "year": 2022,
                    "coordinates": { "lat": 52.5200, "lon": 13.4050 },
                    "images": [
                        "https://images.unsplash.com/photo-1560969184-10fe8719e047?w=600"
                    ],
                    "text": "Berlin hat mich total √ºberrascht! Die Stadt verbindet Geschichte mit modernem Leben. Ich startete am Brandenburger Tor und ging entlang der ehemaligen Mauerlinie. Das DDR-Museum war super interessant. Im Mauerpark fand ein riesiger Flohmarkt statt. Die Street-Art in Kreuzberg ist weltklasse. Currywurst musste nat√ºrlich auch probiert werden! Der Fernsehturm bietet einen fantastischen Blick √ºber die Stadt. Abends besuchte ich einen Club in Friedrichshain. Berlin schl√§ft nie! Die √∂ffentlichen Verkehrsmittel sind top organisiert. Eine Stadt voller Kontraste, die ich jedem empfehlen kann."
                },
                {
                    "id": 3,
                    "title": "Rom - Die ewige Stadt",
                    "country": "Italien",
                    "city": "Rom",
                    "region": "Lazio_IT",
                    "year": 2023,
                    "coordinates": { "lat": 41.9028, "lon": 12.4964 },
                    "images": [
                        "https://images.unsplash.com/photo-1552832230-c0197dd311b5?w=600",
                        "https://images.unsplash.com/photo-1531572753322-ad063cecc140?w=600"
                    ],
                    "text": "Rom ist einfach magisch! Das Kolosseum hat mich sprachlos gemacht. Man sp√ºrt die Geschichte f√∂rmlich. Der Petersdom im Vatikan ist unglaublich prunkvoll. Ich warf eine M√ºnze in den Trevi-Brunnen - der Tradition nach komme ich zur√ºck! Die italienische K√ºche ist ein Traum: Pasta, Pizza, Gelato. Ich k√∂nnte mich durchfuttern! Das Forum Romanum lie√ü mich in die Antike eintauchen. Die spanische Treppe war voller Menschen, aber der Ausblick lohnte sich. Abends spazierte ich durch Trastevere, ein charmantes Viertel mit engen Gassen. Rom bei Nacht hat einen besonderen Zauber. Ich habe so viel gesehen und doch nur einen Bruchteil der Stadt entdeckt. Definitiv eine Reise wert!"
                },
                {
                    "id": 4,
                    "title": "Amsterdam - Grachten und Tulpen",
                    "country": "Niederlande",
                    "city": "Amsterdam",
                    "region": "Noord-Holland_NL",
                    "year": 2022,
                    "coordinates": { "lat": 52.3676, "lon": 4.9041 },
                    "images": [
                        "https://images.unsplash.com/photo-1534351590666-13e3e96b5017?w=600"
                    ],
                    "text": "Amsterdam ist perfekt f√ºr einen St√§dtetrip! Die Grachten sind wundersch√∂n, besonders bei einer Bootstour. Ich mietete ein Fahrrad - wie die Einheimischen! Das Anne-Frank-Haus war sehr bewegend. Der Vondelpark lud zum Entspannen ein. Im Jordaan-Viertel entdeckte ich s√º√üe Caf√©s. Das Rijksmuseum beherbergt beeindruckende Kunstwerke. Nat√ºrlich besuchte ich auch einen Coffee-Shop, das geh√∂rt einfach dazu. Die Architektur der schmalen H√§user ist einzigartig. Am Abend bummelte ich √ºber den Blumenmarkt. Amsterdam hat eine entspannte, weltoffene Atmosph√§re."
                },
                {
                    "id": 5,
                    "title": "Prag - Die goldene Stadt",
                    "country": "Tschechien",
                    "city": "Prag",
                    "region": "Prague_CZ",
                    "year": 2021,
                    "coordinates": { "lat": 50.0755, "lon": 14.4378 },
                    "images": [
                        "https://images.unsplash.com/photo-1541849546-216549ae216d?w=600"
                    ],
                    "text": "Prag ist m√§rchenhaft! Die Karlsbr√ºcke am fr√ºhen Morgen, fast menschenleer - ein magischer Moment. Die Prager Burg thront majest√§tisch √ºber der Stadt. Die astronomische Uhr am Altst√§dter Ring ist ein Meisterwerk. Ich probierte Trdeln√≠k, ein s√º√ües Geb√§ck, einfach lecker! Das j√ºdische Viertel erz√§hlt bewegende Geschichten. Die Moldau glitzerte im Sonnenlicht. Das tschechische Bier ist weltklasse - und so g√ºnstig! Abends genoss ich den Blick vom Pet≈ô√≠n-Turm. Prag vereint Geschichte und Moderne auf charmante Weise. Die Stadt hat mich verzaubert, ich komme bestimmt wieder! Das Nachtleben ist auch sehr lebendig. Ein absolutes Muss f√ºr jeden Europa-Reisenden."
                }
            ]
        };

        // ===== DATEN LADEN (sp√§ter von externer JSON-Datei) =====
        async function loadData() {
            // In der finalen Version w√ºrde hier fetch() verwendet:
            // const response = await fetch('blog-data.json');
            // return await response.json();
            
            // F√ºr Demo verwenden wir die eingebetteten Daten
            return blogData;
        }

        // ===== KARTEN-FUNKTIONEN =====
        function initMap() {
            const canvas = document.getElementById('map-overlay');
            const container = document.getElementById('map-container');
            canvas.width = container.offsetWidth;
            canvas.height = container.offsetHeight;
            
            return canvas.getContext('2d');
        }

        function drawArticleMarkers(articles, ctx) {
            // Europa-Koordinaten f√ºr die Projektion (vereinfachte Mercator-√§hnliche Projektion)
            const minLat = 35, maxLat = 71;
            const minLon = -10, maxLon = 40;
            
            const canvas = ctx.canvas;
            const width = canvas.width;
            const height = canvas.height;

            // Koordinaten in Pixel umrechnen
            function projectToCanvas(lat, lon) {
                const x = ((lon - minLon) / (maxLon - minLon)) * width;
                const y = height - ((lat - minLat) / (maxLat - minLat)) * height;
                return { x, y };
            }

            // Farben f√ºr verschiedene L√§nder
            const colors = [
                'rgba(255, 100, 100, 0.4)',
                'rgba(100, 150, 255, 0.4)',
                'rgba(100, 255, 150, 0.4)',
                'rgba(255, 200, 100, 0.4)',
                'rgba(200, 100, 255, 0.4)',
                'rgba(255, 150, 200, 0.4)'
            ];

            articles.forEach((article, index) => {
                if (!article.coordinates) return;

                const pos = projectToCanvas(article.coordinates.lat, article.coordinates.lon);
                
                // Radius basierend auf Textl√§nge (ca. 50km pro 500 W√∂rter)
                const wordCount = article.text.split(' ').length;
                const baseRadius = Math.sqrt(wordCount) * 2; // Skalierung f√ºr Canvas
                
                // Organische Form durch zuf√§llige Polygone
                ctx.fillStyle = colors[index % colors.length];
                ctx.strokeStyle = colors[index % colors.length].replace('0.4', '0.8');
                ctx.lineWidth = 2;

                ctx.beginPath();
                const points = 8; // Anzahl der Punkte f√ºr organische Form
                for (let i = 0; i < points; i++) {
                    const angle = (i / points) * Math.PI * 2;
                    // Zuf√§llige Variation f√ºr organische Form
                    const radiusVariation = baseRadius * (0.7 + Math.random() * 0.6);
                    const x = pos.x + Math.cos(angle) * radiusVariation;
                    const y = pos.y + Math.sin(angle) * radiusVariation;
                    
                    if (i === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                }
                ctx.closePath();
                ctx.fill();
                ctx.stroke();

                // Punkt in der Mitte
                ctx.fillStyle = colors[index % colors.length].replace('0.4', '1');
                ctx.beginPath();
                ctx.arc(pos.x, pos.y, 5, 0, Math.PI * 2);
                ctx.fill();
            });
        }

        // ===== BLOG-FUNKTIONEN =====
        function populateFilters(articles) {
            const countryFilter = document.getElementById('country-filter');
            const yearFilter = document.getElementById('year-filter');

            // L√§nder extrahieren
            const countries = [...new Set(articles.map(a => a.country))].sort();
            countries.forEach(country => {
                const option = document.createElement('option');
                option.value = country;
                option.textContent = country;
                countryFilter.appendChild(option);
            });

            // Jahre extrahieren
            const years = [...new Set(articles.map(a => a.year))].sort((a, b) => b - a);
            years.forEach(year => {
                const option = document.createElement('option');
                option.value = year;
                option.textContent = year;
                yearFilter.appendChild(option);
            });
        }

        function renderArticles(articles) {
            const container = document.getElementById('articles-container');
            container.innerHTML = '';

            if (articles.length === 0) {
                container.innerHTML = '<div class="no-articles">Keine Artikel gefunden. üòï</div>';
                return;
            }

            articles.forEach(article => {
                const articleEl = document.createElement('div');
                articleEl.className = 'article';

                let imagesHtml = '';
                if (article.images && article.images.length > 0) {
                    imagesHtml = '<div class="article-images">';
                    article.images.forEach(img => {
                        imagesHtml += `<img src="${img}" alt="${article.title}">`;
                    });
                    imagesHtml += '</div>';
                }

                articleEl.innerHTML = `
                    <h3>${article.title}</h3>
                    <div class="article-meta">
                        üìç ${article.city}, ${article.country} | üìÖ ${article.year}
                    </div>
                    ${imagesHtml}
                    <div class="article-text">
                        <p>${article.text}</p>
                    </div>
                `;

                container.appendChild(articleEl);
            });
        }

        function filterArticles(articles) {
            const countryFilter = document.getElementById('country-filter').value;
            const yearFilter = document.getElementById('year-filter').value;

            return articles.filter(article => {
                const matchCountry = countryFilter === 'all' || article.country === countryFilter;
                const matchYear = yearFilter === 'all' || article.year.toString() === yearFilter;
                return matchCountry && matchYear;
            });
        }

        // ===== INITIALISIERUNG =====
        async function init() {
            const data = await loadData();
            const articles = data.articles;

            // Karte initialisieren
            const ctx = initMap();
            drawArticleMarkers(articles, ctx);

            // Filter bef√ºllen
            populateFilters(articles);

            // Artikel rendern
            renderArticles(articles);

            // Event Listener f√ºr Filter
            document.getElementById('country-filter').addEventListener('change', () => {
                const filtered = filterArticles(articles);
                renderArticles(filtered);
                
                // Karte neu zeichnen
                ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
                drawArticleMarkers(filtered, ctx);
            });

            document.getElementById('year-filter').addEventListener('change', () => {
                const filtered = filterArticles(articles);
                renderArticles(filtered);
                
                // Karte neu zeichnen
                ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
                drawArticleMarkers(filtered, ctx);
            });

            // Responsive Karten-Gr√∂√üe
            window.addEventListener('resize', () => {
                const canvas = ctx.canvas;
                const container = document.getElementById('map-container');
                canvas.width = container.offsetWidth;
                canvas.height = container.offsetHeight;
                
                const filtered = filterArticles(articles);
                drawArticleMarkers(filtered, ctx);
            });
        }

        // Seite laden
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
